{"version":3,"sources":["helpers/helpers.js","components/PointsTable.js","components/BonusTable.js","data/data.js","App.js","index.js"],"names":["timeInSeconds","timeString","a","split","capitalize","string","stringArray","toUpperCase","join","PointsTable","props","data","points","sort","useState","sortedRows","setSortedRows","getTotalTime","timeStringArray","Date","toISOString","substr","timeStringFromSeconds","reduce","b","getPoints","positions","Object","entries","rows","map","user","name","times","positionsArray","obj","totalTime","totalPoints","fastestSolves","handleSort","useCallback","index","direction","DataTable","columnContentTypes","headings","sortable","defaultSortDirection","initialSortColumnIndex","onSort","BonusTable","row","key","keys","handleTableSort","userData","bonusData","spider","klondike","pyramid","tripeaks","freecell","1","2","3","4","5","6","App","sortTable","time","rowA","rowB","totalA","totalB","AppProvider","features","newDesignLanguage","i18n","Page","title","Layout","Section","Card","bonuseData","secondary","ReactDOM","render","document","getElementById"],"mappings":"iPAAaA,EAAgB,SAACC,GAC5B,IAAMC,EAAID,EAAWE,MAAM,KAG3B,OADwB,IAAPD,EAAE,GAAU,GAAa,IAAPA,EAAE,KAAWA,EAAE,IAOvCE,EAAa,SAACC,GACzB,IAAMC,EAAcD,EAAOF,MAAM,IAEjC,OADAG,EAAY,GAAKA,EAAY,GAAGC,cACzBD,EAAYE,KAAK,KCyEXC,EAjFK,SAACC,GAAW,IACtBC,EAAuBD,EAAvBC,KAAMC,EAAiBF,EAAjBE,OAAQC,EAASH,EAATG,KADO,EAEOC,mBAAS,MAFhB,mBAEtBC,EAFsB,KAEVC,EAFU,KAWvBC,EAAe,SAACC,GAKpB,ODdiC,SAAClB,GAAD,OACnC,IAAImB,KAAqB,IAAhBnB,GAAsBoB,cAAcC,OAAO,GAAI,GCa/CC,CAJcJ,EAAgBK,QACnC,SAACrB,EAAGsB,GAAJ,OAAUtB,EAAIF,EAAcwB,KAC5B,KAKEC,EAAY,SAACC,GAKjB,OAJoBC,OAAOC,QAAQF,GAAWH,QAC5C,SAACrB,EAAGsB,GAAJ,OAAUtB,EAAIU,EAAOY,EAAE,IAAMA,EAAE,KAC/B,IA4BEK,EAAOd,GAAuCJ,EAtB/BmB,KAAI,SAACC,GAAU,IACxBC,EAA2BD,EAA3BC,KAAMN,EAAqBK,EAArBL,UAAWO,EAAUF,EAAVE,MACnBC,EAA8BR,EAzBhBH,QAAO,SAACY,EAAKX,GAEjC,OADAW,EAAIX,KAAOW,EAAIX,IAAM,EACdW,IACN,IAuBKC,EAAYnB,EAAagB,GAGzBI,EAFSZ,EAAUS,GACgB,EAArBH,EAAKO,cAYzB,MAVY,CACVN,EACqB,MAArBE,EAAe,GAAa,EAAIA,EAAe,GAC1B,MAArBA,EAAe,GAAa,EAAIA,EAAe,GAC1B,MAArBA,EAAe,GAAa,EAAIA,EAAe,GAC1B,MAArBA,EAAe,GAAa,EAAIA,EAAe,GAE/CG,EACAD,MAIQvB,MAAK,SAACX,EAAGsB,GAAJ,OAAUA,EAAE,GAAKtB,EAAE,MAKhCqC,EAAaC,uBACjB,SAACC,EAAOC,GAEN,OAAO1B,EAAcH,EAAKgB,EAAMY,EAAOC,EADhB,IAAVD,MAGf,CAACZ,EAAMhB,IAGT,OACE,kBAAC8B,EAAA,EAAD,CACEC,mBAAoB,CAClB,OACA,UACA,UACA,UACA,UACA,UACA,WAEFC,SAAU,CAAC,OAAQ,IAAK,IAAK,IAAK,IAAK,QAAS,QAChDhB,KAAMA,EACNiB,SAAU,EAAC,GAAO,GAAM,GAAM,GAAM,GAAM,GAAM,GAChDC,qBAAqB,aACrBC,uBAAwB,EACxBC,OAAQV,KC1CCW,EAlCI,SAACxC,GAAW,IACrBC,EAAeD,EAAfC,KAAME,EAASH,EAATG,KADc,EAEQC,mBAAS,MAFjB,mBAErBC,EAFqB,KAETC,EAFS,KAYtBa,EAAOd,GAAuCJ,EAP7BmB,KAAI,SAACqB,GACxB,IAAMC,EAAMzB,OAAO0B,KAAKF,GAAK,GAC7B,MAAO,CAAC/C,EAAWgD,GAAMD,EAAIC,GAAK,GAAID,EAAIC,GAAK,OAO7CE,EAAkBd,uBACtB,SAACC,EAAOC,GAEN,OAAO1B,EAAcH,EAAKgB,EAAMY,EAAOC,EADhB,IAAVD,MAGf,CAACZ,EAAMhB,IAGT,OACE,kBAAC8B,EAAA,EAAD,CACEC,mBAAoB,CAAC,OAAQ,OAAQ,QACrCC,SAAU,CAAC,OAAQ,OAAQ,QAC3BhB,KAAMA,EACNiB,SAAU,EAAC,GAAO,GAAO,GACzBC,qBAAqB,aACrBC,uBAAwB,EACxBC,OAAQK,KCnCRC,EAAW,CACf,CACEvB,KAAM,UACNC,MAAO,CACL,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,YAGFP,UAAW,CACT,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAEFY,cAAe,GAEjB,CACEN,KAAM,QACNC,MAAO,CACL,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,YAEFP,UAAW,CACT,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAEFY,cAAe,GAEjB,CACEN,KAAM,QACNC,MAAO,CACL,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,YAEFP,UAAW,CACT,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAEFY,cAAe,GAEjB,CACEN,KAAM,SACNC,MAAO,CACL,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,YAEFP,UAAW,CACT,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAEFY,cAAe,IAIbkB,EAAY,CAChB,CAAEC,OAAQ,CAAC,UAAW,aACtB,CAAEC,SAAU,CAAC,UAAW,aACxB,CAAEC,QAAS,CAAC,QAAS,aACrB,CAAEC,SAAU,CAAC,UAAW,aACxB,CAAEC,SAAU,CAAC,UAAW,cAGpBjD,EAAS,CACbkD,EAAG,GACHC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,GC9JUC,EA1CH,WACV,IAAMC,EAAY,SAACxC,EAAMY,EAAOC,GAA6B,IAAlB4B,EAAiB,wDAC1D,OAAO,YAAIzC,GAAMhB,MAAK,SAAC0D,EAAMC,GAC3B,IAAMC,EAASF,EAAK9B,GACdiC,EAASF,EAAK/B,GAGpB,OAAI6B,EACmB,eAAd5B,EACH1C,EAAc0E,GAAU1E,EAAcyE,GACtCzE,EAAcyE,GAAUzE,EAAc0E,GAEvB,eAAdhC,EAA6BgC,EAASD,EAASA,EAASC,MAInE,OACE,kBAACC,EAAA,EAAD,CAAaC,SAAU,CAAEC,mBAAmB,GAAQC,KAAM,IACxD,kBAACC,EAAA,EAAD,CAAMC,MAAM,sBACV,kBAACC,EAAA,EAAD,KACE,kBAACA,EAAA,EAAOC,QAAR,KACE,kBAACC,EAAA,EAAD,CAAMH,MAAM,gBACV,kBAAC,EAAD,CACErE,KAAM4C,EACN3C,OAAQA,EACRC,KAAMwD,EACNe,WAAY5B,MAKlB,kBAACyB,EAAA,EAAOC,QAAR,CAAgBG,WAAS,GACvB,kBAACF,EAAA,EAAD,CAAMH,MAAM,kBACV,kBAAC,EAAD,CAAYrE,KAAM6C,EAAW3C,KAAMwD,U,OCnCjDiB,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U","file":"static/js/main.40ea33d2.chunk.js","sourcesContent":["export const timeInSeconds = (timeString) => {\r\n  const a = timeString.split(\":\");\r\n\r\n  const seconds = +a[0] * 60 * 60 + +a[1] * 60 + +a[2];\r\n  return seconds;\r\n};\r\n\r\nexport const timeStringFromSeconds = (timeInSeconds) =>\r\n  new Date(timeInSeconds * 1000).toISOString().substr(11, 8);\r\n\r\nexport const capitalize = (string) => {\r\n  const stringArray = string.split(\"\");\r\n  stringArray[0] = stringArray[0].toUpperCase();\r\n  return stringArray.join(\"\");\r\n};\r\n","import React, { useCallback, useState } from \"react\";\r\nimport { DataTable } from \"@shopify/polaris\";\r\n\r\nimport { timeInSeconds, timeStringFromSeconds } from \"../helpers/helpers\";\r\n\r\nconst PointsTable = (props) => {\r\n  const { data, points, sort } = props;\r\n  const [sortedRows, setSortedRows] = useState(null);\r\n\r\n  const getPositions = (positionArrays) => {\r\n    return positionArrays.reduce((obj, b) => {\r\n      obj[b] = ++obj[b] || 1;\r\n      return obj;\r\n    }, {});\r\n  };\r\n\r\n  const getTotalTime = (timeStringArray) => {\r\n    const totalSeconds = timeStringArray.reduce(\r\n      (a, b) => a + timeInSeconds(b),\r\n      0\r\n    );\r\n    return timeStringFromSeconds(totalSeconds);\r\n  };\r\n\r\n  const getPoints = (positions) => {\r\n    const totalPoints = Object.entries(positions).reduce(\r\n      (a, b) => a + points[b[0]] * b[1],\r\n      0\r\n    );\r\n    return totalPoints;\r\n  };\r\n\r\n  const generateRows = (users) => {\r\n    const rows = users.map((user) => {\r\n      const { name, positions, times } = user;\r\n      const positionsArray = getPositions(positions);\r\n      const totalTime = getTotalTime(times);\r\n      const points = getPoints(positionsArray);\r\n      const bonusPoints = user.fastestSolves * 3;\r\n      const totalPoints = points + bonusPoints;\r\n      const row = [\r\n        name,\r\n        positionsArray[1] == null ? 0 : positionsArray[1],\r\n        positionsArray[2] == null ? 0 : positionsArray[2],\r\n        positionsArray[3] == null ? 0 : positionsArray[3],\r\n        positionsArray[4] == null ? 0 : positionsArray[4],\r\n        // points,\r\n        totalPoints,\r\n        totalTime,\r\n      ];\r\n      return row;\r\n    });\r\n    return rows.sort((a, b) => b[5] - a[5]);\r\n  };\r\n\r\n  const rows = sortedRows ? sortedRows : generateRows(data);\r\n\r\n  const handleSort = useCallback(\r\n    (index, direction) => {\r\n      const time = index === 6 ? true : false;\r\n      return setSortedRows(sort(rows, index, direction, time));\r\n    },\r\n    [rows, sort]\r\n  );\r\n\r\n  return (\r\n    <DataTable\r\n      columnContentTypes={[\r\n        \"text\",\r\n        \"numeric\",\r\n        \"numeric\",\r\n        \"numeric\",\r\n        \"numeric\",\r\n        \"numeric\",\r\n        \"numeric\"\r\n      ]}\r\n      headings={[\"Name\", \"1\", \"2\", \"3\", \"4\", \"Total\", \"Time\"]}\r\n      rows={rows}\r\n      sortable={[false, true, true, true, true, true, true]}\r\n      defaultSortDirection=\"descending\"\r\n      initialSortColumnIndex={5}\r\n      onSort={handleSort}\r\n      // hideScrollIndicator\r\n    />\r\n  );\r\n};\r\nexport default PointsTable;\r\n","import React, { useCallback, useState } from \"react\";\r\nimport { DataTable } from \"@shopify/polaris\";\r\n\r\nimport { capitalize } from \"../helpers/helpers\";\r\n\r\nconst BonusTable = (props) => {\r\n  const { data, sort } = props;\r\n  const [sortedRows, setSortedRows] = useState(null);\r\n\r\n  const generateRows = (rowdata) => {\r\n    const rows = rowdata.map((row) => {\r\n      const key = Object.keys(row)[0];\r\n      return [capitalize(key), row[key][0], row[key][1]];\r\n    });\r\n    return rows;\r\n  };\r\n\r\n  const rows = sortedRows ? sortedRows : generateRows(data);\r\n\r\n  const handleTableSort = useCallback(\r\n    (index, direction) => {\r\n      const time = index === 2 ? true : false;\r\n      return setSortedRows(sort(rows, index, direction, time));\r\n    },\r\n    [rows, sort]\r\n  );\r\n\r\n  return (\r\n    <DataTable\r\n      columnContentTypes={[\"text\", \"text\", \"text\"]}\r\n      headings={[\"Game\", \"Name\", \"Time\"]}\r\n      rows={rows}\r\n      sortable={[false, false, true]}\r\n      defaultSortDirection=\"descending\"\r\n      initialSortColumnIndex={2}\r\n      onSort={handleTableSort}\r\n    />\r\n  );\r\n};\r\nexport default BonusTable;\r\n","const userData = [\r\n  {\r\n    name: \"Richard\",\r\n    times: [\r\n      \"00:08:24\", \r\n      \"00:31:16\", \r\n      \"00:07:50\", \r\n      \"01:11:03\", \r\n      \"00:08:37\",\r\n      \"00:24:33\",\r\n      \"01:04:05\",\r\n      \"00:16:50\",\r\n      \"01:07:12\",\r\n      \"00:10:50\",\r\n      \"00:13:13\",\r\n      \"00:20:33\",\r\n      \"00:07:25\",\r\n      \"00:19:38\",\r\n      \"00:50:00\",\r\n      \"00:42:21\",\r\n      \"00:24:08\",\r\n      \"00:04:19\",\r\n      \"00:29:21\",\r\n      \"00:25:24\",\r\n      \r\n  ],\r\n    positions: [\r\n      3,\r\n      2,\r\n      1,\r\n      3,\r\n      2,\r\n      1,\r\n      4,\r\n      1,\r\n      3,\r\n      3,\r\n      2,\r\n      4,\r\n      3,\r\n      3,\r\n      3,\r\n      4,\r\n      2,\r\n      3,\r\n      2,\r\n      4,\r\n    ],\r\n    fastestSolves: 4\r\n  },\r\n  {\r\n    name: \"Julie\",\r\n    times: [\r\n      \"00:06:47\", \r\n      \"00:53:49\",\r\n      \"00:08:21\",\r\n      \"00:55:25\",\r\n      \"00:09:05\", \r\n      \"00:30:35\",\r\n      \"00:44:44\",\r\n      \"00:21:22\",\r\n      \"01:14:54\",\r\n      \"00:10:35\",\r\n      \"00:22:49\",\r\n      \"00:17:34\",\r\n      \"00:08:28\",\r\n      \"00:14:22\",\r\n      \"01:04:26\",\r\n      \"00:25:47\",\r\n      \"00:22:09\",\r\n      \"00:03:51\",\r\n      \"00:40:06\",\r\n      \"00:16:40\",\r\n    ],\r\n    positions: [\r\n      1,\r\n      3,\r\n      2,\r\n      1,\r\n      3,\r\n      4,\r\n      3,\r\n      4,\r\n      4,\r\n      2,\r\n      4,\r\n      2,\r\n      4,\r\n      1,\r\n      4,\r\n      3,\r\n      1,\r\n      2,\r\n      3,\r\n      2,\r\n    ],\r\n    fastestSolves: 1\r\n  },  \r\n  {\r\n    name: \"Jason\",\r\n    times: [\r\n      \"00:06:53\",\r\n      \"01:21:16\",\r\n      \"00:10:38\",\r\n      \"01:21:47\",\r\n      \"00:08:02\",\r\n      \"00:29:46\",\r\n      \"00:42:38\",\r\n      \"00:17:29\",\r\n      \"00:53:02\",\r\n      \"00:09:19\",\r\n      \"00:17:18\",\r\n      \"00:15:26\",\r\n      \"00:05:30\",\r\n      \"00:24:07\",\r\n      \"00:46:58\",\r\n      \"00:19:11\",\r\n      \"00:26:43\",\r\n      \"00:03:17\",\r\n      \"00:19:54\",\r\n      \"00:11:38\",\r\n    ],\r\n    positions: [\r\n      2,\r\n      3,\r\n      1,\r\n      3,\r\n      2,\r\n      2,\r\n      1,\r\n      1,\r\n      3,\r\n      1,\r\n      1,\r\n      4,\r\n      2,\r\n      1,\r\n      4,\r\n      1,\r\n      1,\r\n      1,\r\n    ],\r\n    fastestSolves: 0\r\n  },\r\n  {\r\n    name: \"Jeremy\",\r\n    times: [\r\n      \"00:08:53\", \r\n      \"00:20:38\", \r\n      \"00:14:00\", \r\n      \"00:09:45\", \r\n      \"01:10:53\",\r\n      \"00:28:27\",\r\n      \"00:27:12\",\r\n      \"00:19:06\",\r\n      \"01:02:30\",\r\n      \"00:11:15\",\r\n      \"00:11:01\",\r\n      \"00:18:40\",\r\n      \"00:06:00\",\r\n      \"00:15:38\",\r\n      \"00:36:09\",\r\n      \"00:25:09\",\r\n      \"00:24:40\",\r\n      \"00:04:49\",\r\n      \"00:44:31\",\r\n      \"00:17:45\",\r\n    ],\r\n    positions: [\r\n      4,\r\n      1,\r\n      4,\r\n      2,\r\n      4,\r\n      2,\r\n      1,\r\n      3,\r\n      2,\r\n      4,\r\n      1,\r\n      3,\r\n      2,\r\n      2,\r\n      1,\r\n      2,\r\n      3,\r\n      4,\r\n      4,\r\n      3,\r\n    ],\r\n    fastestSolves: 0\r\n  },\r\n];\r\n\r\nconst bonusData = [\r\n  { spider: [\"Richard\", \"00:00:40\"] },\r\n  { klondike: [\"Richard\", \"00:00:13\"] },\r\n  { pyramid: [\"Julie\", \"00:00:39\"] },\r\n  { tripeaks: [\"Richard\", \"00:00:09\"] },\r\n  { freecell: [\"Richard\", \"00:00:02\"] }\r\n];\r\n\r\nconst points = {\r\n  1: 10,\r\n  2: 6,\r\n  3: 4,\r\n  4: 3,\r\n  5: 2,\r\n  6: 1\r\n};\r\n\r\nexport { userData, bonusData, points };\r\n","import React from \"react\";\nimport { AppProvider, Page, Card, Layout } from \"@shopify/polaris\";\nimport PointsTable from \"./components/PointsTable\";\nimport BonusTable from \"./components/BonusTable\";\n\nimport { userData, bonusData, points } from \"./data/data\";\nimport { timeInSeconds } from \"./helpers/helpers\";\n\nconst App = () => {\n  const sortTable = (rows, index, direction, time = false) => {\n    return [...rows].sort((rowA, rowB) => {\n      const totalA = rowA[index];\n      const totalB = rowB[index];\n\n      // time specific sorting\n      if (time) {\n        return direction === \"descending\"\n          ? timeInSeconds(totalB) - timeInSeconds(totalA)\n          : timeInSeconds(totalA) - timeInSeconds(totalB);\n      }\n      return direction === \"descending\" ? totalB - totalA : totalA - totalB;\n    });\n  };\n\n  return (\n    <AppProvider features={{ newDesignLanguage: true }} i18n={{}}>\n      <Page title=\"December Solitaire\">\n        <Layout>\n          <Layout.Section>\n            <Card title=\"Leader table\">\n              <PointsTable\n                data={userData}\n                points={points}\n                sort={sortTable}\n                bonuseData={bonusData}\n              />\n            </Card>\n          </Layout.Section>\n\n          <Layout.Section secondary>\n            <Card title=\"Fastest solves\">\n              <BonusTable data={bonusData} sort={sortTable} />\n            </Card>\n          </Layout.Section>\n        </Layout>\n      </Page>\n    </AppProvider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport \"@shopify/polaris/dist/styles.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}